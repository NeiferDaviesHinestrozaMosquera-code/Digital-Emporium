{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["\nimport { NextResponse, type NextRequest } from 'next/server'\nimport { match } from '@formatjs/intl-localematcher'\nimport Negotiator from 'negotiator'\n\nexport const locales = ['en', 'es', 'fr']\nexport const defaultLocale = 'en'\n\nfunction getLocale(request: NextRequest): string {\n  const headers: Record<string, string> = {}\n  request.headers.forEach((value, key) => (headers[key] = value))\n\n  // @ts-ignore languages are readonly\n  const languages = new Negotiator({ headers }).languages()\n\n  try {\n    return match(languages, locales, defaultLocale)\n  } catch (e) {\n    return defaultLocale\n  }\n}\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl\n\n  // Check if the pathname already has a locale prefix\n  const pathnameHasLocale = locales.some(\n    (locale) => pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`\n  )\n\n  if (pathnameHasLocale) {\n    return NextResponse.next()\n  }\n\n  // Redirect if there is no locale\n  const locale = getLocale(request)\n  const newPathname = `/${locale}${pathname.startsWith('/') ? '' : '/'}${pathname}`\n  \n  return NextResponse.redirect(new URL(newPathname, request.url))\n}\n\nexport const config = {\n  matcher: [\n    // Skip all internal paths (_next) and static assets (images, favicon)\n    '/((?!_next|images|favicon.ico|api).*)',\n    // Optional: only run on root (/) URL, if you want to redirect from / to /en\n    // '/'\n  ],\n}\n"],"names":[],"mappings":";;;;;;AACA;AAAA;AACA;AAAA;AACA;;;;AAEO,MAAM,UAAU;IAAC;IAAM;IAAM;CAAK;AAClC,MAAM,gBAAgB;AAE7B,SAAS,UAAU,OAAoB;IACrC,MAAM,UAAkC,CAAC;IACzC,QAAQ,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,MAAS,OAAO,CAAC,IAAI,GAAG;IAExD,oCAAoC;IACpC,MAAM,YAAY,IAAI,2IAAA,CAAA,UAAU,CAAC;QAAE;IAAQ,GAAG,SAAS;IAEvD,IAAI;QACF,OAAO,CAAA,GAAA,2LAAA,CAAA,QAAK,AAAD,EAAE,WAAW,SAAS;IACnC,EAAE,OAAO,GAAG;QACV,OAAO;IACT;AACF;AAEO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,oDAAoD;IACpD,MAAM,oBAAoB,QAAQ,IAAI,CACpC,CAAC,SAAW,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,EAAE,QAAQ;IAG7E,IAAI,mBAAmB;QACrB,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,iCAAiC;IACjC,MAAM,SAAS,UAAU;IACzB,MAAM,cAAc,CAAC,CAAC,EAAE,SAAS,SAAS,UAAU,CAAC,OAAO,KAAK,MAAM,UAAU;IAEjF,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,aAAa,QAAQ,GAAG;AAC/D;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,sEAAsE;QACtE;KAGD;AACH"}}]
}